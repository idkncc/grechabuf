function e(e){return{size(t){let i=0;for(const[s,n]of Object.entries(e))i+=n.size(t[s]);return i},serialize(t){const i=new ArrayBuffer(this.size(t)),s=new DataView(i);let n=0;for(const[i,r]of Object.entries(e))n+=r.serialize(s,n,t[i]);return i},serializeInto(t,i,s=0){const n=s;for(const[n,r]of Object.entries(e))s+=r.serialize(t,s,i[n]);return s-n},deserialize(t,i=0){let s={};for(const[n,r]of Object.entries(e)){const{data:e,length:a}=r.deserialize(t,i);s[n]=e,i+=a}return s}}}const t=()=>({size:e=>1,serialize:(e,t,i)=>(e.setInt8(t,i),1),deserialize:(e,t)=>({data:e.getInt8(t),length:1})}),i=()=>({size:e=>1,serialize:(e,t,i)=>(e.setUint8(t,i),1),deserialize:(e,t)=>({data:e.getUint8(t),length:1})}),s=()=>({size:e=>2,serialize:(e,t,i)=>(e.setInt16(t,i),2),deserialize:(e,t)=>({data:e.getInt16(t),length:2})}),n=()=>({size:e=>2,serialize:(e,t,i)=>(e.setUint16(t,i),2),deserialize:(e,t)=>({data:e.getUint16(t),length:2})}),r=()=>({size:e=>4,serialize:(e,t,i)=>(e.setInt32(t,i),4),deserialize:(e,t)=>({data:e.getInt32(t),length:4})}),a=()=>({size:e=>4,serialize:(e,t,i)=>(e.setUint32(t,i),4),deserialize:(e,t)=>({data:e.getUint32(t),length:4})}),l=()=>({size:e=>4,serialize:(e,t,i)=>(e.setFloat32(t,i),4),deserialize:(e,t)=>({data:e.getFloat32(t),length:4})}),o=()=>({size:e=>4,serialize:(e,t,i)=>(e.setFloat64(t,i),4),deserialize:(e,t)=>({data:e.getFloat64(t),length:4})}),z=()=>({size:e=>1,serialize:(e,t,i)=>(e.setUint8(t,i?255:0),1),deserialize:(e,t)=>({data:e.getUint8(t)>85,length:1})}),g=()=>({size:e=>e.length+1,serialize(e,t,i){e.setUint8(t,i.length);const s=i.split("").map(((e,t)=>[t,i.charCodeAt(t)]));for(const[i,n]of s)e.setUint8(t+i+1,n);return i.length+1},deserialize(e,t){const i=e.getUint8(t);let s=[];for(let n=0;n<i;n++)s.push(e.getUint8(t+n+1));return{data:String.fromCodePoint(...s),length:i+1}}}),d=()=>({size:e=>e.length+2,serialize(e,t,i){e.setUint16(t,i.length);const s=i.split("").map(((e,t)=>[t,i.charCodeAt(t)]));for(const[i,n]of s)e.setUint8(t+i+2,n);return i.length+1},deserialize(e,t){const i=e.getUint16(t);let s=[];for(let n=0;n<i;n++)s.push(e.getUint8(t+n+2));return{data:String.fromCodePoint(...s),length:i+2}}}),h=e=>({size:t=>t.map((t=>e.size(t))).reduce(((e,t)=>e+t),1),serialize(t,i,s){t.setUint8(i,s.length);let n=0;for(const r of s)n+=e.serialize(t,i+n+1,r);return n+1},deserialize(t,i){const s=t.getUint8(i);let n=[],r=0;for(let a=0;a<s;a++){const{data:s,length:a}=e.deserialize(t,i+r+1);n.push(s),r+=a}return{data:n,length:r+1}}}),c=e=>({size:t=>t.map((t=>e.size(t))).reduce(((e,t)=>e+t),2),serialize(t,i,s){t.setUint16(i,s.length);let n=0;for(const r of s)n+=e.serialize(t,i+n+1,r);return n+1},deserialize(t,i){const s=t.getUint16(i);let n=[],r=0;for(let a=0;a<s;a++){const{data:s,length:a}=e.deserialize(t,i+r+1);n.push(s),r+=a}return{data:n,length:r+2}}});export{h as array,z as bool,e as createStruct,l as f32,o as f64,s as i16,r as i32,t as i8,c as longArray,d as longString,g as string,n as u16,a as u32,i as u8};
//# sourceMappingURL=grechabuf.min.mjs.map
